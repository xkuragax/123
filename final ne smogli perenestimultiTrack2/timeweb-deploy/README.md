# üéµ MultiTrack Player - –í–µ—Ä—Å–∏—è –¥–ª—è Timeweb Cloud

–ú–Ω–æ–≥–æ–¥–æ—Ä–æ–∂–µ—á–Ω—ã–π –∞—É–¥–∏–æ –ø–ª–µ–µ—Ä –Ω–∞ Node.js + SQLite –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ VPS.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ü—Ä–æ—á–∏—Ç–∞–π** `DEPLOY-GUIDE.md` ‚Äî —Ç–∞–º –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
2. **–°–æ—Ö—Ä–∞–Ω–∏** `COMMANDS-CHEATSHEET.md` ‚Äî —à–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º
3. **–°–ª–µ–¥—É–π** –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ—Ç –Ω–∞—á–∞–ª–∞ –¥–æ –∫–æ–Ω—Ü–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
timeweb-deploy/
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ app.js           # –ì–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ database.js      # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
‚îÇ   ‚îî‚îÄ‚îÄ routes/          # API —Ä–æ—É—Ç—ã
‚îÇ       ‚îú‚îÄ‚îÄ albums.js    # –ê–ª—å–±–æ–º—ã
‚îÇ       ‚îú‚îÄ‚îÄ songs.js     # –ü–µ—Å–Ω–∏
‚îÇ       ‚îú‚îÄ‚îÄ tracks.js    # –¢—Ä–µ–∫–∏ (—Å—Ç–µ–º—ã)
‚îÇ       ‚îî‚îÄ‚îÄ upload.js    # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ public/              # –§—Ä–æ–Ω—Ç–µ–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ index.html       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ styles.css   # –°—Ç–∏–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ app.js       # –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ       ‚îî‚îÄ‚îÄ MultitrackPlayer.js  # –ê—É–¥–∏–æ –ø–ª–µ–µ—Ä
‚îú‚îÄ‚îÄ data/                # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ logs/                # –õ–æ–≥–∏ PM2
‚îú‚îÄ‚îÄ package.json         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ ecosystem.config.js  # –ö–æ–Ω—Ñ–∏–≥ PM2
‚îî‚îÄ‚îÄ DEPLOY-GUIDE.md      # üìñ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js + Express
- **Database**: SQLite3 (better-sqlite3)
- **Process Manager**: PM2
- **Web Server**: Nginx
- **Frontend**: Vanilla JavaScript (–±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤)
- **Audio**: Web Audio API

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥–∞

- Timeweb Cloud-1: 290‚ÇΩ/–º–µ—Å
- –ê–≤—Ç–æ–±—ç–∫–∞–ø—ã: ~58‚ÇΩ/–º–µ—Å
- **–ò—Ç–æ–≥–æ: ~348‚ÇΩ/–º–µ—Å** (~$3.5)

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–ª—å–±–æ–º–æ–≤ —Å –æ–±–ª–æ–∂–∫–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Å–µ–Ω —Å —Ç–µ–∫—Å—Ç–∞–º–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –º–Ω–æ–≥–æ–¥–æ—Ä–æ–∂–µ—á–Ω—ã—Ö –∞—É–¥–∏–æ (–¥–æ 7 —Å—Ç–µ–º–æ–≤)
- ‚úÖ –ú–∏–∫—à–µ—Ä: –≥—Ä–æ–º–∫–æ—Å—Ç—å, mute, solo –¥–ª—è –∫–∞–∂–¥–æ–π –¥–æ—Ä–æ–∂–∫–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
- ‚úÖ Drag & drop –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

### –û—Ç–ª–∏—á–∏—è –æ—Ç Cloudflare –≤–µ—Ä—Å–∏–∏:
- ‚ùå –ù–µ—Ç R2 —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ‚Äî —Ñ–∞–π–ª—ã –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –¥–∏—Å–∫–µ
- ‚ùå –ù–µ—Ç edge-—Ñ—É–Ω–∫—Ü–∏–π ‚Äî –æ–±—ã—á–Ω—ã–π Node.js —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ù–µ—Ç D1 ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLite –Ω–∞ –¥–∏—Å–∫–µ
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–µ—Ä–≤–µ—Ä–æ–º
- ‚úÖ –í 10 —Ä–∞–∑ –¥–µ—à–µ–≤–ª–µ
- ‚úÖ –ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `DEPLOY-GUIDE.md` ‚Äî –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é
- `COMMANDS-CHEATSHEET.md` ‚Äî –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º Linux

## üîß –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)

–õ–æ–≥–∏ —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ pm2-logrotate:

```bash
pm2 install pm2-logrotate
pm2 set pm2-logrotate:max_size 10M
pm2 set pm2-logrotate:retain 30
pm2 set pm2-logrotate:rotateInterval '0 0 * * *'
```

–ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥ (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ ecosystem.config.js).

### Gzip —Å–∂–∞—Ç–∏–µ

–í–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî —É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É CSS/JS/HTML (–∞—É–¥–∏–æ —Ñ–∞–π–ª—ã –Ω–µ —Å–∂–∏–º–∞—é—Ç—Å—è, —Ç.–∫. MP3 —É–∂–µ —Å–∂–∞—Ç—ã).

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å `pm2 logs`
2. –ü—Ä–æ–≤–µ—Ä—å `nginx -t`
3. –ü—Ä–æ–≤–µ—Ä—å `systemctl status nginx`

---

–£–¥–∞—á–∏ –≤ –¥–µ–ø–ª–æ–µ! üéâ
